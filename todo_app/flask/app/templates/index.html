{% extends "template.html" %}
{% block content %}
<h1>Todoアプリ</h1>

<div class="alert alert-primary" role="alert">
	<h3>Todo追加</h1>
	
	<div class="form-row">
		<div class="form-group col-7">
			<label for="todoContent">内容</label>
			<input form="add" id="todoContent" class="form-control" type="text" name="content" placeholder="内容" required>
		</div>
		<div class="form-group col">
			<label for="status">ステータス</label>
			<select form="add" name="status" id="status" class="form-control">
				<option value="0">新規</option>
				<option value="1">仕掛中</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<label for="deadline">締め切り</label>
		<input form="add" type="text" class="form-control" name="deadline" id="deadline" required>
	</div>
</div>

<div class="alert alert-secondary" role="alert">
	<div class="container">
		<div class="row">
			<div class="col-2">
				<form action="/add" method="post" id="add">
					<button type="submit" class="btn btn-primary btn-lg">　追加　</submit>
				</form>
			</div>
			<div class="col-2">
				<form action="/modify" method="post" id="modify">
					<button type="submit" class="btn btn-success btn-lg">　修正　</submit>
				</form>
			</div>
			<div class="col-2">
				<form action="/delete" method="post" id="delete">
					<button type="submit" class="btn btn-danger btn-lg">　削除　</submit>
				</form>
			</div>
		</div>
	</div>
</div>

<div>
	<table class="table">
		<thead>
			<tr>
				<th scope="col">削除</th>
				<th scope="col">修正</th>
				<th scope="col">内容</th>
				<th scope="col">ステータス</th>
				<th scope="col">期限</th>
			</tr>
		</thead>
		<tbody>
			{% for todo in todo_list %}
			<tr>
				<td><input type="checkbox" name="del_id" form="delete" value={{todo.id}}></td>
				<td><input type="radio" name="mod_id" form="modify" value={{todo.id}}></td>
				<td>{{ todo.content }}</td>
				{% if todo.status == 0 %}
				<td>新規</td>
				{% elif todo.status == 1 %}
				<td>仕掛中</td>
				{% elif todo.status == 2 %}
				<td>完了</td>
				{% else %}
				<td>不正ステータス</td>
				{% endif %}
				<td>{{ todo.deadline }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %}